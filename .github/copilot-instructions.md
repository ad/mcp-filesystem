---
applyTo: '**'
---

## Общие принципы
- Проект — Go-реализация MCP server filesystem, полный аналог оригинального TypeScript-проекта (см. папку `original`).
- Использовать только стандартную библиотеку Go.
- Стиль и структура кода — как в текущем проекте (main.go, main_test.go, Makefile и т.д.).
- Лицензия — MIT.
- Поддержка Linux и macOS.

## Архитектура
- Точка входа: main.go
- MCP транспорты: STDIO, HTTP, SSE (использовать текущую реализацию транспортов)
- MCP tools реализовать в отдельном пакете/файле (list_directory, read_file, write_file, search_files, get_file_info, create_directory, move_file, delete_file и др. — см. original/README.md)
- Логирование — только в stderr, формат как в оригинале
- Не использовать сторонние библиотеки

## Функциональные требования
- Реализовать все MCP tools, как в оригинале (см. секцию Tools в original/README.md)
- Каждый метод должен принимать параметры и возвращать результат в формате MCP (JSON)
- Корректная обработка ошибок
- Многопоточность: сервер должен обслуживать несколько клиентов одновременно (goroutines, каналы)
- Ограничение доступа: не выходить за пределы рабочей директории

## Тестирование и автоматизация
- Покрыть основные функции unit-тестами (main_test.go)
- Скрипт для запуска тестов (test.sh)
- Makefile для сборки и тестирования

## Документация
- README.md с примерами запуска, описанием API, примерами запросов/ответов
- LICENSE — MIT

## Критерии готовности
- Все MCP tools реализованы и проходят тесты
- Сервер работает во всех транспортных режимах
- README.md содержит полное описание API и примеры
- Нет зависимостей кроме стандартной библиотеки Go
- Код оформлен в стиле текущего проекта
